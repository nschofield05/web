<!DOCTYPE html>
<html lang="en">
<head>
  <title>Home</title>
  <link rel="stylesheet" href="style.css">
</head>

<body>
    <header>
        <button onclick="toggleNav()" class="navButton" ><img src="assets/icons/hamburger.png" width="32px" height="32px"></button>
        <h1 class="logo">nthndv.github.io</h1>   
        <button onclick="togglePalettes()" class="iconButton"><img src="assets/icons/palette-fill.png" width="32px" height="32px"></button>

        <div id="paletteDropdown" class="paletteDropdown">
            <div class="paletteButtons">
                <button onclick="setAccent('rgba(255, 0, 0, 0.5)')" style="color: red;">Red</button>
                <button onclick="setAccent('rgba(255, 187, 0, 0.5)')" style="color: rgb(255, 187, 0);">Gold</button>
                <button onclick="setAccent('rgba(0, 255, 0, 0.5)')" style="color: rgb(0, 255, 0);">Green</button>
                <button onclick="setAccent('rgba(0, 128, 255, 0.5)')" style="color: rgb(0, 0, 255);">Blue</button>
                <button onclick="setAccent('rgb(183, 0, 255, 0.5)' )" style="color: rgb(183, 0, 255);">Purple</button>
                <button onclick="setAccent('rgb(255, 0, 149, 0.5)')" style="color: rgb(255, 0, 149);">Pink</button>
            </div>
        </div>

    </header>

    <nav>
        <ul class="nav-links">
            <li><a href="index.html">Home</a></li>
        </ul>
    </nav>

    <main>
        <section>
            <p>testing sdhfgsizuyhfihlsf befi ueyf  wiyr defief   eif   fweif f  v v  ef bsef lef sef eh fehf</p>
            <a href="index.html">Home</a>
        </section>
    </main>
    
</body>

<script>

    var root = document.querySelector(':root');
    var dropdown = document.getElementById("paletteDropdown");
    var header = document.getElementsByTagName("header")[0];
    var nav = document.getElementsByTagName("nav")[0];
    
    window.onload = loadPrefs();

    function setAccent(color){
        root.style.setProperty('--accentcolor', color);
        savePrefs();
        dropdown.style.display = "none";
    }

    function togglePalettes(){
        if (dropdown.style.display !== "block"){
            dropdown.style.display = "block";
            header.style.borderBottomRightRadius = "0px";
        }
        else{
            dropdown.style.display = "none";
            header.style.borderBottomRightRadius = "16px";
        }
    }

    function toggleNav(){
        if (nav.style.left !== "0px"){
            nav.style.left = "0px";
        }
        else{
            nav.style.left = "calc(0px - 13%)";
        }
    }

    function savePrefs(){
        localStorage.setItem('accentColor', root.style.getPropertyValue('--accentcolor'));
    }

    function loadPrefs(){
        var data = localStorage.getItem('accentColor');
        setAccent(data);
    }

</script>